TARGETNAME=watchdog
TARGETPATH=obj
TARGETTYPE=EXPORT_DRIVER

LINKLIBS=$(DDK_LIB_PATH)\ntoskrnl.lib

PASS1_PUBLISH={$(O)\$(TARGETNAME).lib=$(PROJECT_LIB_PATH)\$(TARGETNAME).lib}

INCLUDES=$(DDK_INC_PATH);$(PROJECT_INC_PATH)

C_DEFINES=-DWATCHDOG_EXPORTS

!IFNDEF MSC_WARNING_LEVEL
MSC_WARNING_LEVEL=/W3
!ENDIF

MSC_WARNING_LEVEL=$(MSC_WARNING_LEVEL) /WX

SOURCES=            \
    dwd.c           \
    object.c        \
    watchdog.c      \
    watchdog.rc

DLLDEF=$(O)\watchdog.def
